<!DOCTYPE html>
<!--
	SPDX-License-Identifier: BSD-2-Clause
	SPDX-FileCopyrightText: Copyright (c) 2025 Runxi Yu <https://runxiyu.org>
-->
<html lang="en">
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>Proof-of-work challenge</title>
	<link rel="stylesheet" href="/.powxy/static/style.css" />
	<script src="/.powxy/static/main.js">
	</script>
</head>
<body data-identifier="{{ .Identifier }}" data-difficulty="{{ .Global.NeedBits }}">
	<main>
		<header>
			<h1>Proof-of-work challenge</h1>
		</header>

		<section>
			<p>This site is protected by <a href="{{ .Global.SourceURL }}">Powxy</a>{{ if .Global.Version }} {{ .Global.Version }}{{ end }}.</p>
			<p>You must complete this proof-of-work challenge before you can access this site.</p>
		</section>

		<section>
			<p>Find an nonce that, when appended to the following string, results in a SHA-256 hash that begins with at least {{ .Global.NeedBits }} zero bits.</p>
			<pre id="identifier">{{ .Identifier }}</pre>
		</section>

		<section>
			<form method="POST">
				<label for="nonce">Your selected nonce, base64-encoded:</label>
				<input id="nonce" name="powxy" type="text" />
				<input type="submit" value="Submit" />
				<p>Please note that if your submission is successful, you will be given a cookie that will allow you to access this site for a period of time without having to complete the challenge again. By pressing the submit button, you agree to be given cookies for this purpose.</p>
			</form>
		</section>

		{{- if .Message }}
		<section>
			<p><strong>{{ .Message }}</strong></p>
		</section>
		{{- end }}

		<section>
			<p id="solver_status">JavaScript seems to be disabled. You must solve the challenge externally.</p>
		</section>

		<section>
			<p><a href="/.powxy/static/solver.c">A C implementation</a> and <a href="/.powxy/static/solver.py">a Python implementation</a> of the challenge solver are available.</p>
		</section>
	</main>
</body>
</html>
